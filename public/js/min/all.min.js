var Comments=angular.module("Comments",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router"]);!function(e){e.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("home",{url:"/",templateUrl:"partials/home-partial.html",controller:"HomeController"}).state("about",{url:"/about",templateUrl:"partials/about-partial.html",controller:"AboutController"})}])}(Comments),function(e){function t(e){return e.data}function n(e){console.log(e)}e.service("commentsService",["$http",function(e){var o="http://jsonplaceholder.typicode.com/comments";this.getComments=function(){return e.get(o)},this.createNewComment=function(m){e.post(o,m,config).then(t,n)},this.searchComment=function(m){e.post(o,m,config).then(t,n)},this.updateComment=function(m){e.put(o+"something",m,config).then(t,n)},this.deleteComment=function(m){e.delete(o+"something",m,config).then(t,n)}}])}(Comments),function(e){e.controller("AboutController",["$scope",function(e){}])}(Comments),function(e){e.controller("HomeController",["$scope","commentsService","$mdDialog","$mdToast",function(e,t,n,o){function m(e,t){e.cancel=function(){t.cancel()}}function c(e){return null===e||null!==e.match(/^ *$/)}var r=[];t.getComments().then(function(t){e.comments=t.data,r=t.data},function(t){e.showToast("Unable to read record.")}),e.showCreateCommentForm=function(t){n.show({controller:m,templateUrl:"../../partials/create_comment.template.html",parent:angular.element(document.body),clickOutsideToClose:!0,scope:e,preserveScope:!0,fullscreen:!0})},e.createComment=function(){var n={id:0,name:e.name,body:e.body,email:e.email};null!=t.createNewComment(n)&&(n.id=r.length+1,r.push(n),e.comments=r,e.id="",e.name="",e.body="",e.email="",e.cancel())},e.showUpdateCommentForm=function(t){e.id=t.id,e.name=t.name,e.body=t.body,e.email=t.email,n.show({controller:m,templateUrl:"../../partials/update_comment.template.html",parent:angular.element(document.body),targetEvent:event,clickOutsideToClose:!0,scope:e,preserveScope:!0,fullscreen:!0}).then(function(){},function(){e.id="",e.name="",e.body="",e.email=""})},e.updateComment=function(){e.cancel()},e.searchComments=function(){var t=[];if(c(e.comment_search_keywords))e.comments=r;else{for(i=0;i<e.comments.length;i++)1==e.searchBy?e.comments[i].email.includes(e.comment_search_keywords)&&t.push(e.comments[i]):e.comments[i].id==e.comment_search_keywords&&t.push(e.comments[i]);e.comments=t}},e.confirmDeleteComment=function(t,o){e.id=o;var m=n.confirm().title("Are you sure?").textContent("comment will be deleted.").targetEvent(t).ok("Yes").cancel("No");n.show(m).then(function(){o>-1&&(r.splice(o-1,1),e.comments=r)},function(){})}}])}(Comments);